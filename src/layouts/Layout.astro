---
const theAside = "the-aside-for-every-situation";
import ruizamAvatar from '@/assets/avatar.png';
import MyNavbar from '@/components/my-navbar/NavbarWrapper.astro';
import ThemeToggle from '@/components/theme-toggle/ThemeToggleWrapper.astro';
---

<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>Astro Basics</title>
	</head>
	<body>
		<main class="main-layout">
			<section class="main-section">
				<div class="interactive-avatar-container absolute-position">
					<div class="ruizam-avatar">
						<img class="ruizam-avatar__image" src={ruizamAvatar.src} alt="@ruizam avatar">
					</div>
					<div class="ruizam-avatar__header">
						<h1 class="ruizam-avatar__header-title">Armando Ruiz</h1>
						<h2 class="ruizam-avatar__header-subtitle">Frontend Developer</h2>
					</div>
				</div>
				<slot />
			</section>
			<aside class={theAside}>
				<MyNavbar/>
			</aside>
			<ThemeToggle/>
		</main>
	</body>
</html>

<style>
	/* main layout & main section */
	.main-layout {
		position: relative;
		display: flex;
		justify-content: space-between;
		width: 100vw;
		height: 100vh;
		background-color: var(--main-layout-bg);
	}
	.main-section {
		position: relative;
		display: flex;
		align-items: center;
		justify-content: center;
		width: 92%;
		height: 100vh;
		background-color: var(--main-section-bg);
		border: 1px solid rgba(0,0,0,0.3);
		border-radius: 0px 38px 38px 0px;
		box-shadow:  var(--main-section-shadow);
		overflow: hidden;
	}

	.main-section::before,
	.main-section::after {
		content: "";
		position: absolute;
		left: 0;
		width: 100%;
		height: 20px;
		pointer-events: none;
		z-index: 1;
	}

	.main-section::before {
		top: 0;
		box-shadow: inset 0 10px 15px -5px rgba(0, 0, 0, 0.35);
	}
	.main-section::after {
		bottom: 0;
		box-shadow: inset 0 -10px 15px -5px rgba(0, 0, 0, 0.35);
	}

	/* Avatar styles */
	.absolute-position {
		position: absolute;
	}
	.interactive-avatar-container {
		display: flex;
		align-items: center;
		justify-content: center;
		gap: 1%;
		top: 7%;
		left: 50%;
		width: 100%;
		transform: translateX(-50%);
		z-index: 4;
	}
	.ruizam-avatar {
		width: 120px;
		height: fit-content;
	}
	.ruizam-avatar__image {
		width: 100%;
		object-fit: cover;
		transition: transform 500ms;
	}
	.ruizam-avatar__header {
		display: flex;
		flex-direction: column;
		justify-content: center;
		align-items: center;
		font-weight: 400;
		font-style: normal;
	}
	.ruizam-avatar__header-title {
		font-family: var(--font-heading);
		font-size: 7rem;
		line-height: 85%;
	}
	.ruizam-avatar__header-subtitle {
		font-size: 3rem;
		font-family: "Source Sans 3", sans-serif;
		font-weight: 300;
		font-style: normal;
	}
	.ruizam-avatar__header-description {
		font-size: 2.4rem;
	}
	.avatar-transform {
		transform: rotate(360deg);
	}
	/* --- */

	.the-aside-for-every-situation {
		/* position: relative; */
		display: flex;
		padding-inline: 30px;
	}

	.inactive {
		display: none;
	}
	
	@media (hover: hover) {
		.ruizam-avatar:hover .ruizam-avatar__image {
			transform: rotate(360deg);
		}
	}
	@media (max-width: 1920px) {
		.ruizam-avatar {
			width: 100px;
		}
		.ruizam-avatar__header-title {
			font-size: 6rem;
		}
		.ruizam-avatar__header-subtitle {
			font-size: 2.7rem;
		}
	}
	@media (max-width: 1440px) {
		.ruizam-avatar {
			width: 96px;
		}
		.ruizam-avatar__header-title {
			font-size: 5.8rem;
		}
		.ruizam-avatar__header-subtitle {
			font-size: 2.6rem;
		}
	}
	
	@media (max-width: 1366px) {
		.ruizam-avatar {
			width: 94px;
		}
		.ruizam-avatar__header-title {
			font-size: 5.6rem;
		}
		.ruizam-avatar__header-subtitle {
			font-size: 2.5rem;
		}
	}

	@media (max-width: 1280px) {
		.ruizam-avatar {
			width: 92px;
		}
		.ruizam-avatar__header-title {
			font-size: 5.4rem;
		}
		.ruizam-avatar__header-subtitle {
			font-size: 2.4rem;
		}
	}
	@media (max-width: 1024px) {
		.ruizam-avatar {
			width: 90px;
		}
		.ruizam-avatar__header-title {
			font-size: 5.2rem;
		}
		.ruizam-avatar__header-subtitle {
			font-size: 2.3rem;
		}
	}

	@media (max-width: 900px) {
		.ruizam-avatar {
			width: 88px;
		}
		.ruizam-avatar__header-title {
			font-size: 5rem;
		}
		.ruizam-avatar__header-subtitle {
			font-size: 2.2rem;
		}
	}

	@media (max-width: 768px) {
		.main-layout {
			flex-direction: column;
		}
		.the-aside-for-every-situation {
			height: fit-content;
			justify-content: space-evenly;
			padding: 0;
		}
		.main-section{
			width: 100vw;
			height: 90%;
			margin-block-end: 50px;
			border-radius: 0px 0px 30px 30px;
		}
		.main-section::before {
		top: 0;
		box-shadow: inset 0 0 0 0 rgba(0, 0, 0, 0);
	}
	.main-section::after {
		bottom: 0;
		box-shadow: inset 0 -10px 12px -8px rgba(0, 0, 0, 0.20);
	}
		.ruizam-avatar {
			width: 86px;
		}
		.ruizam-avatar__header {
			display: flex;
			flex-direction: column;
		}
		.ruizam-avatar__header-title {
			font-size: 4.8rem;
		}
		.ruizam-avatar__header-subtitle {
			font-size: 2.1rem;
		}
		.ruizam-avatar__header-description {
			font-size: 2rem;
		}
	} 
	@media (orientation: landscape) and (max-height: 600px) {
		.main-layout{
			height: fit-content;
		}
		.main-section{
			height: fit-content;
		}
	}
	@media (max-width: 600px) {
		.interactive-avatar-container {
			top: 10%;
		}
		.ruizam-avatar {
			width: 75px;
		}
		.ruizam-avatar__header-title {
			font-size: 4.5rem;
		}
		.ruizam-avatar__header-subtitle {
			font-size: 2.1rem;
		}
	}
	@media (max-width: 480px) {
		.interactive-avatar-container {
			top: 14%;
		}
		.ruizam-avatar {
			width: 68px;
		}
		.ruizam-avatar__header-title {
			font-size: 4.2rem;
		}
		.ruizam-avatar__header-subtitle {
			font-size: 1.8rem;
			letter-spacing: 1px;
		}
	}
	@media (max-width: 430px) {
		.ruizam-avatar {
			width: 60px;
		}
		.ruizam-avatar__header-title {
			font-size: 3.7rem;
		}
		.ruizam-avatar__header-subtitle {
			font-size: 1.6rem;
			letter-spacing: 1px;
		}
	}
</style>

<script>
    initializeAvatar();
    function initializeAvatar() {
        const ruizamAvatar = document.querySelector('.ruizam-avatar');
        const ruizamAvatarImg = document.querySelector('.ruizam-avatar img');
        ruizamAvatarImg?.addEventListener('click', () => {
            ruizamAvatarImg?.classList.toggle('avatar-transform');
        });
    }
</script>